$(function(){function u(n,t){var u=i.data("url")+"?cityID="+n;t=="P"?i.empty():r.empty(),$.ajax({url:u,dataType:"JSON",success:function(n){$.each(n,function(){t=="P"?i.append($("<option>",{value:this.Value}).text(this.Text)):r.append($("<option>",{value:this.Value}).text(this.Text))})},error:function(){console.log("bindPinCodes error")}})}var n=$("#citylist"),t=$("#riskcitylist"),r=$("#riskpincode"),i=$("#pincode"),f=$("#isriskaddsame"),e=$("#ishypothecated");n.typeahead({minLength:3,source:function(t,i){return $.getJSON(n.data("url"),{prefix:t},function(n){var t=[];return $.each(n,function(n,i){t.push({id:i.CityId+"|"+i.StateId,name:i.CityName})}),i(t)})}}),n.change(function(){var t=n.typeahead("getActive");t&&($("#CityID").val(t.id.split("|")[0]),$("#StateID").val(t.id.split("|")[1]),u($("#CityID").val(),"P"))}),t.typeahead({minLength:3,source:function(n,i){return $.getJSON(t.data("url"),{prefix:n},function(n){var t=[];return $.each(n,function(n,i){t.push({id:i.CityId+"|"+i.StateId,name:i.CityName})}),i(t)})}}),t.change(function(){var n=t.typeahead("getActive");n&&($("#RiskCityID").val(n.id.split("|")[0]),u($("#RiskCityID").val(),"R"))}),f.change(function(){this.checked?$(".riskdetails").hide():$(".riskdetails").show()}).change(),e.change(function(){this.checked?$(".financialinstitution").show():$(".financialinstitution").hide()}).change();$("#proposalform").on("submit",function(){var u=$("#PanNo").val();if(u==""&&parseInt(totalPremium)>5e4)return $(".pannoerror").show(),$(".defaultpannovalidation").hide(),!1;if($(".pannoerror").hide(),$(".defaultpannovalidation").show(),$("#ishypothecated").is(":checked")&&(!$("#FinancialInstitutionName")||$("#FinancialInstitutionName").val()==""))return $(".financialinstitutionspan").show(),!1;if($(".financialinstitutionspan").hide(),parseInt($("#supplierid").val(),10)==38&&parseInt($("#RSATotalSqtArea").val(),10)*parseInt($("#RSAConstructionCostPerSqFeet").val(),10)!=parseInt($("#buildingval").val(),10))return $(".costpersqft span").data("generated")=="true"?$(".totalsqcost").hide():$(".totalsqcost").show(),!1;if($(".totalsqcost").hide(),!$("#isriskaddsame").is(":checked")){var n=$.trim($(".riskaddress1").val()),t=$.trim($(".riskaddress2").val()),i=$(".riskcity").val(),r=$(".riskzipcode").val();if(n==""||t==""||i<=0||r<=0)return n==""?$(".riskaddressline1error").show():$(".riskaddressline1error").hide(),t==""?$(".riskaddressline2error").show():$(".riskaddressline2error").hide(),i<=0?$(".riskcityerror").show():$(".riskcityerror").hide(),r<=0?$(".riskzipcodeerror").show():$(".riskzipcodeerror").hide(),!1;$(".riskaddressline1error").hide(),$(".riskaddressline2error").hide(),$(".riskcityerror").hide(),$(".riskzipcodeerror").hide()}})})